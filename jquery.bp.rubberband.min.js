/*
 * Rubberband - Responsive breakpoint events
 * @author Ben Plum
 * @version 2.0.6
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

if(jQuery)(function(e){function u(t){t=t||{};for(var i in r){options[i]=t[i]?e.merge(t[i],options[i]):options[i]}options=e.extend(options,t);options.minWidth.sort(h);options.maxWidth.sort(c);options.minHeight.sort(h);options.maxHeight.sort(c);for(var i in r){n[i]={};for(var s in options[i]){var o=window.matchMedia("("+r[i]+": "+(options[i][s]==Infinity?1e5:options[i][s])+options.unit+")");o.addListener(a);n[i][options[i][s]]=o}}a()}function a(){p();i=setTimeout(function(){f()},options.debouce)}function f(){console.log("start");l();e(window).trigger("snap",[this.state])}function l(){this.state={};for(var e in r){for(var t in n[e]){if(n[e][t].matches){var i=t=="Infinity"?Infinity:parseInt(t,10);if(e.indexOf("max")>-1){if(!this.state[e]||i<this.state[e]){this.state[e]=i}}else{if(!this.state[e]||i>this.state[e]){this.state[e]=i}}}}}return this.state}function c(e,t){return t-e}function h(e,t){return e-t}function p(){if(i!=null){clearTimeout(i);i=null}}var t=window.matchMedia!==undefined;options={debounce:5,minWidth:[0],maxWidth:[Infinity],minHeight:[0],maxHeight:[Infinity],unit:"px"};var n={},r={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"},i=null;var s=undefined;var o={};e.rubberband=function(e){if(t){if(o[e]){return o[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return u.apply(this,arguments)}}return this}})(jQuery)